<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Air780E çŸ­ä¿¡æ§åˆ¶å°</title>
<style>
  :root { --blue:#007aff; --bg:#f6f6f6; }
  body { font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",Helvetica,Arial; margin:20px; max-width:820px; }
  h2 { text-align:center; margin-top:0; }
  .row { display:flex; gap:10px; align-items:center; margin:10px 0; }
  .grow { flex:1 1 auto; }
  input, textarea, select { width:100%; font-size:16px; margin-top:6px; padding:8px; box-sizing:border-box; }
  button { padding:10px 14px; background:var(--blue); color:#fff; border:0; border-radius:8px; font-size:16px; cursor:pointer; }
  button.ghost { background:#e9eef9; color:#1a1a1a; }
  #status { margin:8px 0 14px; text-align:center; color:#666; font-size:14px; }
  #log { margin-top:18px; font-family:monospace; background:var(--bg); border-radius:6px; padding:10px; height:200px; overflow-y:auto; white-space:pre-wrap; }
  .section { background:#fff; padding:12px; border-radius:8px; box-shadow:0 1px 2px rgba(0,0,0,.04); margin-top:12px; }
  table { width:100%; border-collapse:collapse; background:#fff; }
  th, td { padding:8px; border-bottom:1px solid #eee; font-size:14px; }
  tr.clickable { cursor:pointer; }
  tr.clickable:hover { background:#fafafa; }
  .pill { font-size:12px; background:#eef2ff; color:#334155; padding:2px 8px; border-radius:999px; }
  .status-dot { display:inline-block; width:8px; height:8px; border-radius:50%; margin-right:6px; vertical-align:middle; }
  .online { background:#16a34a; }  .offline { background:#9ca3af; }
  .badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; margin-left:8px; }
  .ok { background:#e6f7ec; color:#0f7a3e; } .fail { background:#fde8e8; color:#b42318; }
</style>
</head>
<body>

<h2>ğŸ“© Air780E çŸ­ä¿¡æ§åˆ¶å°</h2>
<div id="status">åˆå§‹åŒ–ä¸­...</div>

<div class="section">
  <div class="row">
    <div class="grow">
      <label>é€‰æ‹©è®¾å¤‡</label>
      <select id="deviceSelect"></select>
    </div>
    <div>
      <button id="refreshDevicesBtn" class="ghost">åˆ·æ–°è®¾å¤‡</button>
    </div>
    <div><span class="pill" id="devicesInfo">â€”</span></div>
  </div>
  <table id="devicesTable">
    <thead><tr><th>è®¾å¤‡ID</th><th>çŠ¶æ€</th><th>æœ€ååœ¨çº¿</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<div class="section">
  <div class="row">
    <div class="grow"><strong>ä¸´æ—¶é€šè®¯å½•</strong></div>
    <button id="refreshContactsBtn" class="ghost">åˆ·æ–°é€šè®¯å½•</button>
    <span class="pill" id="contactsInfo">â€”</span>
  </div>
  <table id="contactsTable">
    <thead><tr><th>å·ç </th><th>å§“å</th><th>æœ€è¿‘å‡ºç°</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<div class="section">
  <label>å‘é€ç»™ (æ‰‹æœºå·)</label>
  <input id="to" type="text" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" />
  <label style="margin-top:8px; display:block;">çŸ­ä¿¡å†…å®¹</label>
  <textarea id="content" rows="4" placeholder="è¯·è¾“å…¥è¦å‘é€çš„å†…å®¹"></textarea>
  <div class="row" style="align-items:center;">
    <button id="sendBtn" class="grow">å‘é€çŸ­ä¿¡</button>
    <button id="clearBtn" class="ghost">æ¸…ç©º</button>
    <span id="ack" class="badge" style="display:none;"></span>
  </div>
</div>

<div id="log" class="section" style="height:auto; max-height:220px;"></div>
<script src="./sms-console.js"></script>
</body>
</html>